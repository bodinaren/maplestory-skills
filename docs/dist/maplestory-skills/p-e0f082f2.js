import{c as e}from"./p-1813397e.js";function l(e,l,i){let r={},s=0;i&&e[i.prop]>0&&i.skillRequirements&&i.skillRequirements.forEach(l=>{!function e(l,i){l[i.skill.prop]<i.level&&(l[i.skill.prop]=i.level),i.skill.skillRequirements&&i.skill.skillRequirements.forEach(i=>{e(l,i)})}(e,l)}),Object.keys(l).forEach(i=>{let t=l[i];s+=e[t.prop],r[t.prop]={locked:!1,required:void 0,limitReached:!1}}),i&&s>72&&(e[i.prop]-=s-72),Object.keys(l).forEach(i=>{let t=l[i];t.skillRequirements&&t.skillRequirements.forEach(l=>{e[l.skill.prop]<l.level&&(r[t.prop].locked=!0,e[t.prop]=0)}),r[t.prop].limitReached=s>=72,0===e[t.prop]&&function e(l,i){let r=0;return i.skillRequirements?(i.skillRequirements.forEach(i=>{r+=e(l,i.skill),r+=Math.max(0,i.level-l[i.skill.prop])}),r):0}(e,t)+1>72-s&&(r[t.prop].limitReached=!0)}),e.skills=r}function i(e,l,i){if(l.skillRequirements){let r=!1;l.skillRequirements.forEach(l=>{if(e[l.skill.prop]<l.level){let s=i?`Level ${l.level}+`:void 0;e.skills[l.skill.prop].required!==s&&(e.skills[l.skill.prop].required=s,r=!0)}}),r&&(e.skills=Object.assign({},e.skills))}}function r(l,r,s,t=!1,o){return Object.keys(r).map(p=>{let k=r[p],a=l.skills[k.prop];return e("ms-skill",Object.assign({class:k.prop,skill:k,level:l[k.prop],locked:a.locked,required:a.required,limitReached:a.limitReached,disabled:!s,loop:s,onLevelchanged:e=>l.levelChanged(k,e.detail),onMouseEnter:()=>a.locked&&i(l,k,!0),onMouseLeave:()=>a.locked&&i(l,k,!1),extras:t},o))})}function s(e,l,i){let r={skills:Object.keys(l).map(i=>{let r=l[i];return{skill:r.name,attr:r.attr,prop:r.prop,level:e[r.prop],minLevel:r.minLevel,maxLevel:r.maxLevel}})};return i&&(r.other=Object.keys(i).map(e=>({attr:e,value:i[e]}))),r}export{l as a,s as b,r as c};